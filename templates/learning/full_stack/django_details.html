{% extends "base.html" %}
{% load static %}
{% block title %}Architecture Overview{% endblock %}
{% block content %}

<div class="container">
    <h2>Architecture Overview</h2>

    <div class="content-section">
        <h3>Django, Gunicorn, Docker, and Nginx</h3>
        <p>Our project utilizes a robust, scalable architecture combining Django, Gunicorn, Docker, and Nginx.</p>
    </div>

    <div class="content-section">
        <h3>Django</h3>
        <ul>
            <li>Project name: chesley_web</li>
            <li>Main app: main</li>
            <li>Custom user model for enhanced flexibility</li>
            <li>Separated settings for development and production environments</li>
            <li>Uses django-environ for environment variable management</li>
        </ul>
    </div>

    <div class="content-section">
        <h3>Gunicorn</h3>
        <ul>
            <li>WSGI HTTP Server for running Django</li>
            <li>Socket file: <code>/opt/website/chesley_web.sock</code></li>
            <li>Managed by systemd service</li>
        </ul>
    </div>

    <div class="content-section">
        <h3>Docker</h3>
        <ul>
            <li>Containerized application for consistent environments</li>
            <li>Dockerfile for image definition</li>
            <li>docker-compose.yml for development</li>
            <li>docker-compose.prod.yml for production orchestration</li>
        </ul>
    </div>

    <div class="content-section">
        <h3>Nginx</h3>
        <ul>
            <li>Serves as a reverse proxy</li>
            <li>Handles SSL/TLS with Let's Encrypt certificates</li>
            <li>Serves static files directly</li>
            <li>Configuration: <code>/etc/nginx/sites-available/chesley_web</code></li>
        </ul>
    </div>

    <div class="content-section">
        <h3>Database</h3>
        <ul>
            <li>PostgreSQL (AWS RDS) for production</li>
            <li>SQLite for development</li>
            <li>SSL connection enforced in production</li>
        </ul>
    </div>

    <div class="content-section">
        <h3>Static Files</h3>
        <ul>
            <li>Collected to <code>/opt/website/staticfiles/</code></li>
            <li>Served directly by Nginx</li>
        </ul>
    </div>

    <div class="content-section">
        <h3>Security Measures</h3>
        <ul>
            <li>HTTPS enforced</li>
            <li>Strong SSL settings in Nginx</li>
            <li>UFW firewall and fail2ban implemented</li>
            <li>Cloudflare for DNS and additional security</li>
        </ul>
    </div>

    <div class="content-section">
        <p>This architecture provides a secure, efficient, and scalable foundation for our Django application, leveraging the strengths of each component to ensure optimal performance and maintainability.</p>
    </div>
</div>

{% endblock %}
