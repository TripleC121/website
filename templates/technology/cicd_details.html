{% extends "base.html" %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
{% endblock %}

{% block content %}
<div class="container">
    <h1 class="page-title">CI/CD Pipeline Details</h1>

    <div class="card">
        <h2>Test and Lint Workflow</h2>
        <p>This workflow runs on every push and pull request to ensure code quality:</p>
        <pre><code class="language-yaml">{{ test_lint_yaml|safe }}</code></pre>
    </div>

    <div class="card">
        <h2>Deployment Workflow</h2>
        <p>This workflow automates our deployment process:</p>
        <pre><code class="language-yaml">{{ deploy_yaml|safe }}</code></pre>
    </div>

    <div class="card">
        <h2>Key Features</h2>
        <ul>
            <li>Automated testing and linting on every code change</li>
            <li>Secure handling of secrets and credentials</li>
            <li>Deployment to AWS EC2 using Systems Manager</li>
            <li>Docker-based deployment for consistency</li>
            <li>Automatic database migrations and static file collection</li>
        </ul>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-yaml.min.js"></script>
{% endblock %}
